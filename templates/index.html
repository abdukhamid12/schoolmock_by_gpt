<!DOCTYPE html><html lang="ru"><head>    <meta charset="UTF-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>Тест для учеников</title>    <style>        body {            font-family: Arial, sans-serif;        }        .container {            max-width: 600px;            margin: 0 auto;            padding: 20px;        }        input, button {            width: 100%;            padding: 10px;            margin: 10px 0;        }    </style></head><body>    <div class="container">        <h2>Введите данные</h2>        <input type="text" id="firstName" placeholder="Имя">        <input type="text" id="lastName" placeholder="Фамилия">        <button id="startTest">Начать тест</button>        <div id="testContainer" style="display: none;">            <h3>Тест</h3>            <div id="questions"></div>            <button id="submitTest">Отправить ответы</button>        </div>        <div id="resultContainer" style="display: none;">            <h3>Результаты</h3>            <p id="resultText"></p>        </div>    </div>    <script>        let studentId;        document.getElementById('startTest').addEventListener('click', function () {            const firstName = document.getElementById('firstName').value;            const lastName = document.getElementById('lastName').value;            if (!firstName || !lastName) {                alert("Пожалуйста, введите имя и фамилию.");                return;            }            // Добавление ученика через API            fetch('/api/students/', {                method: 'POST',                headers: {                    'Content-Type': 'application/json',                },                body: JSON.stringify({                    first_name: firstName,                    last_name: lastName,                    class_group: 1  // ID класса                })            })            .then(response => response.json())            .then(data => {                studentId = data.id;                loadTest();            });        });        function loadTest() {            document.getElementById('testContainer').style.display = 'block';            fetch('/api/questions/')            .then(response => response.json())            .then(questions => {                const questionContainer = document.getElementById('questions');                questions.forEach(question => {                    const div = document.createElement('div');                    div.innerHTML = `                        <p>${question.text}</p>                        <input type="number" class="answer" data-question-id="${question.id}">                    `;                    questionContainer.appendChild(div);                });            });            // Таймер на 1 час            setTimeout(submitTest, 3600000);        }        document.getElementById('submitTest').addEventListener('click', submitTest);        function submitTest() {            const answers = [];            const answerElements = document.querySelectorAll('.answer');            answerElements.forEach(input => {                answers.push({                    student: studentId,                    question: input.getAttribute('data-question-id'),                    score: input.value                });            });            fetch('/api/answers/', {                method: 'POST',                headers: {                    'Content-Type': 'application/json',                },                body: JSON.stringify(answers)            })            .then(response => response.json())            .then(data => {                document.getElementById('testContainer').style.display = 'none';                document.getElementById('resultContainer').style.display = 'block';                document.getElementById('resultText').innerText = `Ваш результат: ${data.total_score}`;            });        }    </script></body></html>